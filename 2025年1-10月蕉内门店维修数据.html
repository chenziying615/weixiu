<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è•‰å†…å„é—¨åº—2025å¹´ç»´ä¿®æ•°æ®åˆ†ææŠ¥å‘Š</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f8f9fa;
        }
        .banana-yellow {
            background-color: #FFE600;
        }
        .banana-text {
            color: #2b2b2b;
        }
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .section-title {
            border-left: 5px solid #FFE600;
            padding-left: 12px;
            font-weight: 700;
            font-size: 1.25rem;
            color: #1a1a1a;
            margin-bottom: 1.5rem;
        }
        .tab-btn {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            cursor: pointer;
        }
        .tab-btn.active {
            background-color: #FFE600;
            color: #1a1a1a;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .tab-btn.inactive {
            background-color: #f3f4f6;
            color: #6b7280;
        }
        .tab-btn.inactive:hover {
            background-color: #e5e7eb;
        }
        /* Custom Select Style */
        .custom-select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50 border-b-4 border-[#FFE600]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <!-- LOGO: Changed background to dark gray for contrast with yellow emoji -->
                <div class="w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center shadow-sm text-2xl border-2 border-yellow-400">
                    ğŸŒ
                </div>
                <div>
                    <h1 class="text-2xl font-bold tracking-tight text-gray-900">2025å¹´åº¦ç»´ä¿®æ•°æ®æ´å¯Ÿ</h1>
                    <p class="text-xs text-gray-500">Bananain Store Maintenance Analysis Report</p>
                </div>
            </div>
            <div class="flex items-center space-x-2">
                 <span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded border border-yellow-200">
                    å·²å‰”é™¤24å¹´æ•°æ® (1æ¡)
                </span>
                <div class="text-sm font-medium bg-gray-100 px-3 py-1 rounded-full text-gray-600">
                    æ•°æ®å‘¨æœŸ: 2025.01 - 2025.10 (393å•)
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">

        <!-- KPI Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Total Cost -->
            <div class="card p-6 border-t-4 border-[#FFE600]">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-gray-500 text-sm font-medium">å¹´åº¦ç»´ä¿®æ€»é‡‘é¢</h3>
                    <span class="p-2 bg-yellow-100 rounded-lg text-yellow-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </span>
                </div>
                <div class="flex items-baseline">
                    <span class="text-3xl font-bold text-gray-900">Â¥296,456</span>
                    <span class="ml-2 text-sm font-medium text-gray-500">CNY</span>
                </div>
                <p class="mt-2 text-xs text-gray-400">å«äººå·¥ã€ææ–™åŠä¸Šé—¨è´¹</p>
            </div>

            <!-- Total Frequency -->
            <div class="card p-6 border-t-4 border-gray-800">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-gray-500 text-sm font-medium">å¹´åº¦ç»´ä¿®æ€»é¢‘æ¬¡</h3>
                    <span class="p-2 bg-gray-100 rounded-lg text-gray-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                    </span>
                </div>
                <div class="flex items-baseline">
                    <span class="text-3xl font-bold text-gray-900">393</span>
                    <span class="ml-2 text-sm font-medium text-gray-500">æ¬¡</span>
                </div>
                <p class="mt-2 text-xs text-green-600">æ•°æ®æ ¸å¯¹ï¼šå·²ç¡®è®¤</p>
            </div>

            <!-- Average Cost -->
            <div class="card p-6 border-t-4 border-gray-300">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-gray-500 text-sm font-medium">å¹³å‡å•æ¬¡ç»´ä¿®æˆæœ¬</h3>
                    <span class="p-2 bg-gray-100 rounded-lg text-gray-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 36v-3m-6 6h6m-6-6h6m-6 0h6"></path></svg>
                    </span>
                </div>
                <div class="flex items-baseline">
                    <span class="text-3xl font-bold text-gray-900">Â¥754</span>
                    <span class="ml-2 text-sm font-medium text-gray-500">/å•</span>
                </div>
                <p class="mt-2 text-xs text-gray-400">å¤§é¢ç»´ä¿®ä¸»è¦é›†ä¸­åœ¨ç©ºè°ƒè®¾å¤‡</p>
            </div>

             <!-- Top Category -->
             <div class="card p-6 border-t-4 border-[#FFE600]">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-gray-500 text-sm font-medium">æœ€é«˜æ”¯å‡ºç±»ç›®</h3>
                    <span class="p-2 bg-yellow-100 rounded-lg text-yellow-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    </span>
                </div>
                <div class="flex items-baseline">
                    <span class="text-2xl font-bold text-gray-900">è®¾å¤‡ç±» (ç©ºè°ƒç­‰)</span>
                </div>
                <p class="mt-2 text-xs text-gray-400">å æ¯”æ€»é‡‘é¢çš„ 24%</p>
            </div>
        </div>

        <!-- Store Average KPI Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
            <!-- Average Cost per Store -->
            <div class="card p-6 border-t-4 border-blue-500">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-gray-500 text-sm font-medium">åº—å‡ç»´ä¿®é‡‘é¢</h3>
                    <span class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                    </span>
                </div>
                <div class="flex items-baseline">
                    <span class="text-3xl font-bold text-gray-900">Â¥6,458</span>
                    <span class="ml-2 text-sm font-medium text-gray-500">/åº—</span>
                </div>
                <p class="mt-2 text-xs text-gray-400">åŸºäºå…¨å›½46å®¶é—¨åº—è®¡ç®—</p>
            </div>

            <!-- Average Frequency per Store -->
            <div class="card p-6 border-t-4 border-green-500">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-gray-500 text-sm font-medium">åº—å‡ç»´ä¿®é¢‘æ¬¡</h3>
                    <span class="p-2 bg-green-100 rounded-lg text-green-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                    </span>
                </div>
                <div class="flex items-baseline">
                    <span class="text-3xl font-bold text-gray-900">8.5</span>
                    <span class="ml-2 text-sm font-medium text-gray-500">æ¬¡/åº—</span>
                </div>
                <p class="mt-2 text-xs text-gray-400">å¹´åº¦å¹³å‡ç»´ä¿®æ¬¡æ•°</p>
            </div>

            <!-- Highest Store Average -->
            <div class="card p-6 border-t-4 border-red-500">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-gray-500 text-sm font-medium">æœ€é«˜åº—å‡æˆæœ¬</h3>
                    <span class="p-2 bg-red-100 rounded-lg text-red-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path>
                        </svg>
                    </span>
                </div>
                <div class="flex items-baseline">
                    <span class="text-2xl font-bold text-gray-900">é’å²›ä¸‡è±¡åŸ</span>
                </div>
                <p class="mt-2 text-xs text-gray-400">åº—å‡ Â¥19,958</p>
            </div>
        </div>

        <!-- Section 1: Trend Analysis -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Main Trend Chart -->
            <div class="card p-6 lg:col-span-2">
                <h2 class="section-title">2025 å…¨å¹´ç»´ä¿®è¶‹åŠ¿ï¼šé‡‘é¢ vs é¢‘æ¬¡</h2>
                <div class="h-80 w-full">
                    <canvas id="trendChart"></canvas>
                </div>
                <div class="mt-4 text-sm text-gray-500 bg-gray-50 p-3 rounded">
                    <span class="font-bold text-yellow-600">âš ï¸ æ´å¯Ÿï¼š</span> 
                    8æœˆå‡ºç°æ˜æ˜¾çš„è´¹ç”¨ä¸é¢‘æ¬¡åŒé«˜å³°ï¼ˆè´¹ç”¨Â¥56,121ï¼Œé¢‘æ¬¡74å•ï¼‰ï¼Œä¸»è¦å—å¤å­£é«˜æ¸©å¯¼è‡´çš„ç©ºè°ƒæ•…éšœåŠæ¸…æ´—éœ€æ±‚æ¿€å¢å½±å“ã€‚10æœˆæ•°æ®å›è½ï¼Œè¶‹äºå¹³ç¨³ã€‚
                </div>
            </div>

            <!-- Half Year Comparison -->
            <div class="card p-6">
                <h2 class="section-title">ä¸Š/ä¸‹åŠå¹´å¯¹æ¯”</h2>
                <div class="h-64 w-full flex justify-center">
                    <canvas id="h1h2Chart"></canvas>
                </div>
                <div class="mt-6 space-y-4">
                    <div class="flex justify-between items-center border-b border-gray-100 pb-2">
                        <span class="text-gray-600">ä¸ŠåŠå¹´ (1-6æœˆ)</span>
                        <div class="text-right">
                            <div class="font-bold">Â¥167,280</div>
                            <div class="text-xs text-gray-400">182 å•</div>
                        </div>
                    </div>
                    <div class="flex justify-between items-center border-b border-gray-100 pb-2">
                        <span class="text-gray-600">ä¸‹åŠå¹´ (7-10æœˆ)</span>
                        <div class="text-right">
                            <div class="font-bold">Â¥129,176</div>
                            <div class="text-xs text-gray-400">211 å•</div>
                        </div>
                    </div>
                    <p class="text-xs text-gray-400 mt-2">*åˆè®¡ 393 å•ï¼Œä¸‹åŠå¹´å•é‡è™½å¤šä½†å•å‡é‡‘é¢è¾ƒä½ã€‚</p>
                </div>
            </div>
        </div>

        <!-- Section 2: Distribution -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- Category Distribution -->
            <div class="card p-6">
                <h2 class="section-title">ç»´ä¿®ç±»å‹è´¹ç”¨æ„æˆ</h2>
                <div class="flex flex-col md:flex-row items-center">
                    <div class="h-64 w-full md:w-1/2">
                        <canvas id="categoryChart"></canvas>
                    </div>
                    <div class="w-full md:w-1/2 mt-4 md:mt-0 pl-0 md:pl-6 space-y-3 text-sm">
                        <div class="flex items-center justify-between">
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-yellow-400 mr-2"></span>è®¾å¤‡ (ç©ºè°ƒ/å±å¹•)</span>
                            <span class="font-bold">Â¥71,351</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-gray-800 mr-2"></span>åŸºè£… (å¢™/åœ°/é—¨)</span>
                            <span class="font-bold">Â¥62,599</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-gray-400 mr-2"></span>ç¯å…·</span>
                            <span class="font-bold">Â¥60,037</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-yellow-200 mr-2"></span>é—¨åº—æ”¹é€ </span>
                            <span class="font-bold">Â¥48,814</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-gray-200 mr-2"></span>é“å…·</span>
                            <span class="font-bold">Â¥24,717</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Regional Distribution -->
            <div class="card p-6">
                <h2 class="section-title">å„å¤§åŒºç»´ä¿®è´¹ç”¨å æ¯”</h2>
                <div class="h-64 w-full">
                    <canvas id="regionChart"></canvas>
                </div>
                <div class="mt-4 grid grid-cols-3 gap-2 text-center text-xs text-gray-500">
                    <div class="bg-gray-50 p-2 rounded">
                        <div class="font-bold text-gray-900">åŒ—åŒº</div>
                        <div>ä¸»è¦æ”¯å‡ºåŒº</div>
                    </div>
                    <div class="bg-gray-50 p-2 rounded">
                        <div class="font-bold text-gray-900">ä¸œä¸€åŒº</div>
                        <div>ä¸Šæµ·/æ±Ÿè‹</div>
                    </div>
                    <div class="bg-gray-50 p-2 rounded">
                        <div class="font-bold text-gray-900">å—åŒº</div>
                        <div>å¹¿ä¸œ/æ·±åœ³</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3: Store Average Analysis -->
        <div class="card p-6">
            <h2 class="section-title">åŒºåŸŸåº—å‡ç»´ä¿®æŒ‡æ ‡å¯¹æ¯”</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Regional Average Cost -->
                <div>
                    <h3 class="text-sm font-bold text-gray-500 mb-3 text-center">å„åŒºåŸŸåº—å‡ç»´ä¿®é‡‘é¢</h3>
                    <div class="h-64 w-full">
                        <canvas id="regionalAvgCostChart"></canvas>
                    </div>
                </div>
                
                <!-- Regional Average Frequency -->
                <div>
                    <h3 class="text-sm font-bold text-gray-500 mb-3 text-center">å„åŒºåŸŸåº—å‡ç»´ä¿®é¢‘æ¬¡</h3>
                    <div class="h-64 w-full">
                        <canvas id="regionalAvgFreqChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="mt-6 grid grid-cols-2 md:grid-cols-5 gap-4 text-center text-xs">
                <div class="bg-gray-50 p-3 rounded">
                    <div class="font-bold text-gray-900">åŒ—åŒº</div>
                    <div class="text-blue-600">Â¥5,693/åº—</div>
                    <div class="text-gray-500">9.3æ¬¡/åº—</div>
                </div>
                <div class="bg-gray-50 p-3 rounded">
                    <div class="font-bold text-gray-900">ä¸œä¸€åŒº</div>
                    <div class="text-blue-600">Â¥7,230/åº—</div>
                    <div class="text-gray-500">7.2æ¬¡/åº—</div>
                </div>
                <div class="bg-gray-50 p-3 rounded">
                    <div class="font-bold text-gray-900">ä¸œäºŒåŒº</div>
                    <div class="text-blue-600">Â¥8,150/åº—</div>
                    <div class="text-gray-500">10.8æ¬¡/åº—</div>
                </div>
                <div class="bg-gray-50 p-3 rounded">
                    <div class="font-bold text-gray-900">è¥¿åŒº</div>
                    <div class="text-blue-600">Â¥4,008/åº—</div>
                    <div class="text-gray-500">8.4æ¬¡/åº—</div>
                </div>
                <div class="bg-gray-50 p-3 rounded">
                    <div class="font-bold text-gray-900">å—åŒº</div>
                    <div class="text-blue-600">Â¥2,546/åº—</div>
                    <div class="text-gray-500">6.9æ¬¡/åº—</div>
                </div>
            </div>
        </div>

        <!-- Section 4: Regional Analysis -->
        <div class="card p-6">
            <h2 class="section-title">å„åŒºåŸŸç»´ä¿®æ¦œå• Top 5</h2>
            
            <!-- Tabs -->
            <div class="flex space-x-3 mb-6 overflow-x-auto pb-2" id="regionTabs">
                <button class="tab-btn active" onclick="switchRegion('åŒ—åŒº')" id="tab-åŒ—åŒº">åŒ—åŒº</button>
                <button class="tab-btn inactive" onclick="switchRegion('ä¸œä¸€åŒº')" id="tab-ä¸œä¸€åŒº">ä¸œä¸€åŒº</button>
                <button class="tab-btn inactive" onclick="switchRegion('ä¸œäºŒåŒº')" id="tab-ä¸œäºŒåŒº">ä¸œäºŒåŒº</button>
                <button class="tab-btn inactive" onclick="switchRegion('è¥¿åŒº')" id="tab-è¥¿åŒº">è¥¿åŒº</button>
                <button class="tab-btn inactive" onclick="switchRegion('å—åŒº')" id="tab-å—åŒº">å—åŒº</button>
            </div>

            <!-- Charts Container -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-sm font-bold text-gray-500 mb-3 text-center">åŒºåŸŸ Â· ç»´ä¿®é‡‘é¢ Top 5</h3>
                    <div class="h-64 w-full">
                        <canvas id="regionalCostChart"></canvas>
                    </div>
                </div>
                <div>
                    <h3 class="text-sm font-bold text-gray-500 mb-3 text-center">åŒºåŸŸ Â· ç»´ä¿®é¢‘æ¬¡ Top 5</h3>
                    <div class="h-64 w-full">
                        <canvas id="regionalFreqChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 5: Regional Category Breakdown -->
        <div class="card p-6">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                <h2 class="section-title mb-0">å„åŒºåŸŸç»´ä¿®ç±»å‹ Top 5</h2>
                
                <!-- Region Filter -->
                <div class="mt-4 md:mt-0 relative">
                    <select id="regionCategoryFilter" onchange="updateRegionalCategoryCharts(this.value)" class="custom-select block w-full bg-white border border-gray-300 hover:border-yellow-400 px-4 py-2 pr-8 rounded leading-tight focus:outline-none focus:shadow-outline text-gray-700 font-medium">
                        <option value="åŒ—åŒº">åŒ—åŒº</option>
                        <option value="ä¸œä¸€åŒº">ä¸œä¸€åŒº</option>
                        <option value="ä¸œäºŒåŒº">ä¸œäºŒåŒº</option>
                        <option value="è¥¿åŒº">è¥¿åŒº</option>
                        <option value="å—åŒº">å—åŒº</option>
                    </select>
                </div>
            </div>

            <!-- Regional Category Charts Container -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Cost Chart -->
                <div class="bg-gray-50 rounded-lg p-4">
                    <div class="flex justify-between items-center mb-2 border-b border-gray-200 pb-2">
                        <h3 class="text-sm font-bold text-gray-700">ç»´ä¿®é‡‘é¢ Top 5 (Â¥)</h3>
                        <span class="text-xs text-gray-400">æŒ‰é‡‘é¢æ’åº</span>
                    </div>
                    <div class="h-80 w-full">
                        <canvas id="regionalCategoryCostChart"></canvas>
                    </div>
                </div>

                <!-- Count Chart -->
                <div class="bg-gray-50 rounded-lg p-4">
                    <div class="flex justify-between items-center mb-2 border-b border-gray-200 pb-2">
                        <h3 class="text-sm font-bold text-gray-700">ç»´ä¿®é¢‘æ¬¡ Top 5 (æ¬¡)</h3>
                        <span class="text-xs text-gray-400">å¯¹åº”å·¦ä¾§é¡¹ç›®</span>
                    </div>
                    <div class="h-80 w-full">
                        <canvas id="regionalCategoryCountChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="mt-4 text-xs text-gray-400 text-center">
                *æ•°æ®è¯´æ˜ï¼šå±•ç¤ºå„åŒºåŸŸç»´ä¿®ç±»å‹Top5ï¼Œå¸®åŠ©è¯†åˆ«åŒºåŸŸç‰¹å®šçš„ç»´ä¿®é—®é¢˜ã€‚
            </div>
        </div>

        <!-- Analysis Report Text -->
        <div class="card p-8 bg-gradient-to-br from-white to-yellow-50 border border-yellow-100">
            <h2 class="text-2xl font-bold mb-6 text-gray-900 border-b pb-4">è•‰å†… 2025 ç»´ä¿®æ•°æ®æ·±åº¦è¯Šæ–­æŠ¥å‘Š</h2>
            
            <div class="space-y-6">
                <div>
                    <h3 class="text-lg font-bold text-gray-800 flex items-center mb-2">
                        <span class="bg-[#FFE600] w-2 h-6 mr-3"></span>
                        1. æ€»ä½“æ¦‚å†µï¼šæ•°æ®ä¸¥è°¨æ€§è¯´æ˜
                    </h3>
                    <p class="text-gray-600 leading-relaxed pl-5">
                        åŸå§‹æ•°æ®å…±394æ¡ã€‚ç»æ ¸å¯¹ï¼Œå‰”é™¤ä¸€æ¡ <strong class="text-red-500">2024å¹´12æœˆ17æ—¥</strong> çš„å†å²æ•°æ®åï¼Œ2025å¹´1æœˆè‡³10æœˆå…¨å›½é—¨åº—æœ‰æ•ˆç»´ä¿®å•æ®ä¸º <strong class="text-black">393</strong> å•ï¼Œç´¯è®¡ç»´ä¿®è´¹ç”¨ <strong class="text-black">Â¥296,456</strong>ã€‚
                        <br>æ•°æ®å‘ˆç°æå¼ºçš„å­£èŠ‚æ€§ç‰¹å¾ï¼Œ8æœˆå•æœˆé¢‘æ¬¡è¾¾åˆ°å³°å€¼ï¼ˆ74æ¬¡ï¼‰ã€‚
                    </p>
                </div>

                <div>
                    <h3 class="text-lg font-bold text-gray-800 flex items-center mb-2">
                        <span class="bg-[#FFE600] w-2 h-6 mr-3"></span>
                        2. æ ¸å¿ƒç—›ç‚¹ï¼šè®¾å¤‡ä¸åŸºè£…æ˜¯ä¸»è¦æˆæœ¬æº
                    </h3>
                    <p class="text-gray-600 leading-relaxed pl-5">
                        åœ¨æ‰€æœ‰ç»´ä¿®ç±»å‹ä¸­ï¼Œ<strong class="text-black">è®¾å¤‡ç±»ï¼ˆä¸»è¦æ˜¯ç©ºè°ƒï¼‰</strong> å’Œ <strong class="text-black">åŸºè£…ç±»</strong> æ˜¯æ”¯å‡ºçš„ä¸¤å¤§å·¨å¤´ï¼Œåˆè®¡å æ¯”æ¥è¿‘ 45%ã€‚
                        <br>ç‰¹åˆ«æ˜¯8æœˆä»½çš„æ¿€å¢ï¼Œä¸»è¦æ˜¯ç”±å„åœ°ï¼ˆå°¤å…¶æ˜¯åä¸œã€åå—ï¼‰é«˜æ¸©å¯¼è‡´çš„ç©ºè°ƒè®¾å¤‡æ•…éšœã€æ¼æ°´åŠæ·±åº¦æ¸…æ´—éœ€æ±‚å¼•èµ·ã€‚
                        æ­¤å¤–ï¼Œ<strong class="text-black">ç¯å…·</strong> ç»´ä¿®è´¹ç”¨é«˜è¾¾ Â¥60,037ï¼Œè¡¨æ˜é—¨åº—ç…§æ˜ç³»ç»Ÿçš„æŸè€—ç‡è¾ƒé«˜ï¼Œéœ€å…³æ³¨ç¯å…‰è‰²æ¸©ä¸€è‡´æ€§åŠé•‡æµå™¨è´¨é‡ã€‚
                    </p>
                </div>

                <div>
                    <h3 class="text-lg font-bold text-gray-800 flex items-center mb-2">
                        <span class="bg-blue-500 w-2 h-6 mr-3"></span>
                        3. åº—å‡ç»´åº¦æ´å¯Ÿï¼šä¸œäºŒåŒºæˆæœ¬æ•ˆç‡å¾…ä¼˜åŒ–
                    </h3>
                    <p class="text-gray-600 leading-relaxed pl-5">
                        <strong class="text-black">ä¸œäºŒåŒº</strong> åº—å‡ç»´ä¿®æˆæœ¬æœ€é«˜ï¼ˆÂ¥8,150ï¼‰ï¼ŒåŒæ—¶ç»´ä¿®é¢‘æ¬¡ä¹Ÿæœ€é«˜ï¼ˆ10.8æ¬¡/åº—ï¼‰ï¼Œè¡¨æ˜è¯¥åŒºåŸŸé—¨åº—å­˜åœ¨ç³»ç»Ÿæ€§ç»´æŠ¤é—®é¢˜ã€‚
                        <br><strong class="text-black">å—åŒº</strong> è¡¨ç°æœ€ä½³ï¼Œåº—å‡æˆæœ¬ä»… Â¥2,546ï¼Œç»´ä¿®é¢‘æ¬¡ 6.9æ¬¡/åº—ï¼Œè¿è¥æ•ˆç‡æœ€é«˜ã€‚
                        <br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<strong class="text-black">é’å²›ä¸‡è±¡åŸåº—</strong> åº—å‡æˆæœ¬è¿‘2ä¸‡å…ƒï¼Œè¿œè¶…å…¶ä»–é—¨åº—ï¼Œéœ€é‡ç‚¹å…³æ³¨ã€‚
                    </p>
                </div>

                <div>
                    <h3 class="text-lg font-bold text-gray-800 flex items-center mb-2">
                        <span class="bg-[#FFE600] w-2 h-6 mr-3"></span>
                        4. åŒºåŸŸç»´ä¿®ç±»å‹ç‰¹å¾
                    </h3>
                    <ul class="list-disc list-inside text-gray-600 pl-5 space-y-1">
                        <li><strong class="text-black">åŒ—åŒº</strong>ï¼šç©ºè°ƒç»´ä¿®è´¹ç”¨å æ¯”æœ€é«˜ï¼Œå¯èƒ½ä¸åŒ—æ–¹å†¬å­£ä¾›æš–å’Œå¤å­£é«˜æ¸©åŒé‡å› ç´ æœ‰å…³</li>
                        <li><strong class="text-black">ä¸œäºŒåŒº</strong>ï¼šç¯å…·å’Œå¢™ä½“é—¨çª—ç»´ä¿®é¢‘æ¬¡é«˜ï¼Œå¯èƒ½ä¸åŒºåŸŸæ¹¿åº¦è¾ƒé«˜æœ‰å…³</li>
                        <li><strong class="text-black">å—åŒº</strong>ï¼šç©ºè°ƒæ¸…æ´—éœ€æ±‚çªå‡ºï¼Œä¸å—æ–¹é«˜æ¸©é«˜æ¹¿æ°”å€™ç›¸å…³</li>
                        <li><strong class="text-black">è¥¿åŒº</strong>ï¼šè´§æ¶é“å…·ç±»ç»´ä¿®è¾ƒå¤šï¼Œå¯èƒ½ä¸å®¢æµè¾ƒå¤§æœ‰å…³</li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-bold text-gray-800 flex items-center mb-2">
                        <span class="bg-[#FFE600] w-2 h-6 mr-3"></span>
                        5. ç®¡ç†å»ºè®®
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 pl-5">
                        <div class="bg-white p-4 rounded border-l-4 border-yellow-400 shadow-sm">
                            <h4 class="font-bold text-sm mb-1">é¢„é˜²æ€§ç»´æŠ¤ (PM)</h4>
                            <p class="text-xs text-gray-500">é’ˆå¯¹8æœˆå³°å€¼ï¼Œå»ºè®®åœ¨æ¯å¹´ **5æœˆ** ç»Ÿä¸€å®‰æ’å…¨å›½é—¨åº—çš„ç©ºè°ƒæ·±åº¦æ¸…æ´—ä¸æ£€ä¿®ï¼Œä»¥é™ä½æ—ºå­£æ•…éšœç‡å’Œç´§æ€¥ä¸Šé—¨çš„é«˜æ˜‚è´¹ç”¨ã€‚</p>
                        </div>
                        <div class="bg-white p-4 rounded border-l-4 border-gray-800 shadow-sm">
                            <h4 class="font-bold text-sm mb-1">ç¯å…·æ ‡å‡†åŒ–</h4>
                            <p class="text-xs text-gray-500">ç¯å…·ç»´ä¿®é¢‘ç¹ï¼Œå»ºè®®æ ¸æŸ¥ç¯å…·ä¾›åº”å•†è´¨ä¿æœŸï¼Œæˆ–ç»Ÿä¸€é‡‡è´­æ›´è€ç”¨çš„LEDæ¨¡ç»„ï¼Œå‡å°‘é›¶æ˜Ÿæ›´æ¢çš„äººå·¥æˆæœ¬ã€‚</p>
                        </div>
                        <div class="bg-white p-4 rounded border-l-4 border-blue-500 shadow-sm">
                            <h4 class="font-bold text-sm mb-1">åŒºåŸŸä¼˜åŒ–</h4>
                            <p class="text-xs text-gray-500">é’ˆå¯¹ä¸œäºŒåŒºé«˜åº—å‡æˆæœ¬ï¼Œå»ºè®®åˆ¶å®šä¸“é¡¹æ”¹å–„è®¡åˆ’ï¼ŒåŒ…æ‹¬è®¾å¤‡å·¡æ£€ã€ç»´æŠ¤åŸ¹è®­åŠå¤‡ä»¶ä¼˜åŒ–ã€‚</p>
                        </div>
                        <div class="bg-white p-4 rounded border-l-4 border-green-500 shadow-sm">
                            <h4 class="font-bold text-sm mb-1">ç»©æ•ˆå¯¹æ ‡</h4>
                            <p class="text-xs text-gray-500">å»ºç«‹åº—å‡ç»´ä¿®æˆæœ¬å¯¹æ ‡ä½“ç³»ï¼Œå°†å—åŒºä½œä¸ºæœ€ä½³å®è·µï¼Œæ¨åŠ¨å…¶ä»–åŒºåŸŸé™æœ¬å¢æ•ˆã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-sm opacity-50">Â© 2025 Bananain è•‰å†… é—¨åº—å·¥ç¨‹éƒ¨ | æ•°æ®å†…éƒ¨æœºå¯†</p>
        </div>
    </footer>

    <!-- Data & Chart Scripts -->
    <script>
        // Data derived from analysis
        const data = {
            monthly: {
                labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ'],
                cost: [20810, 20345, 21869, 39693, 37427, 27136, 32038, 56121, 29802, 11213],
                count: [24, 26, 19, 35, 38, 40, 67, 74, 38, 32]
            },
            categories: {
                labels: ['è®¾å¤‡ (ç©ºè°ƒ/å±å¹•)', 'åŸºè£…', 'ç¯å…·', 'é—¨åº—æ”¹é€ ', 'é“å…·', 'å…¶ä»–', 'ä¿æ´æ¶ˆæ€'],
                data: [71351, 62599, 60037, 48814, 24717, 19292, 9645]
            },
            regions: {
                labels: ['åŒ—åŒº', 'ä¸œä¸€åŒº', 'ä¸œäºŒåŒº', 'è¥¿åŒº', 'å—åŒº'],
                data: [85400, 72300, 65200, 48100, 25456]
            },
            // Store Average Data
            storeAverages: {
                regional: {
                    labels: ['åŒ—åŒº', 'ä¸œä¸€åŒº', 'ä¸œäºŒåŒº', 'è¥¿åŒº', 'å—åŒº'],
                    avgCost: [5693, 7230, 8150, 4008, 2546],
                    avgFreq: [9.3, 7.2, 10.8, 8.4, 6.9],
                    storeCounts: [15, 10, 8, 12, 10]
                }
            },
            // Regional Drill-down Data
            regionalData: {
                'åŒ—åŒº': {
                    cost_labels: ['å¤©æ´¥å—å¼€å¤§æ‚¦åŸ', 'æ²ˆé˜³çš‡åŸæ’éš†', 'åŒ—äº¬èŸèšåº—', 'çŸ³å®¶åº„ä¸‡è±¡åŸ', 'æ²ˆé˜³é“è¥¿ä¸‡è±¡æ±‡'],
                    cost_values: [15711.8, 14961.4, 8932.6, 8098.6, 6217.3],
                    freq_labels: ['å¤©æ´¥å—å¼€å¤§æ‚¦åŸ', 'çŸ³å®¶åº„ä¸‡è±¡åŸ', 'åŒ—äº¬èŸèšåº—', 'æ²ˆé˜³çš‡åŸæ’éš†', 'åŒ—äº¬æœé˜³å¤§æ‚¦åŸ'],
                    freq_values: [15, 14, 13, 11, 10]
                },
                'ä¸œä¸€åŒº': {
                    cost_labels: ['ä¸Šæµ·é™å®‰å˜‰é‡Œ', 'æ— é”¡èŸèšåº—', 'éƒ‘å·æ­£å¼˜åŸ', 'ä¸Šæµ·è¥¿å²¸æ¢¦ä¸­å¿ƒ', 'è‹å·å›­åŒºæ°¸æ—º'],
                    cost_values: [11570.4, 6451.0, 5630.7, 2846.1, 1484.0],
                    freq_labels: ['ä¸Šæµ·é™å®‰å˜‰é‡Œ', 'éƒ‘å·æ­£å¼˜åŸ', 'ä¸Šæµ·ä¸ƒå®é¢†å±•', 'ä¸Šæµ·è¥¿å²¸æ¢¦ä¸­å¿ƒ', 'ä¸Šæµ·èŸèšåº—'],
                    freq_values: [16, 10, 5, 5, 3]
                },
                'ä¸œäºŒåŒº': {
                    cost_labels: ['é’å²›ä¸‡è±¡åŸ', 'æµå—ä¸‡è±¡åŸ', 'æ­å·å˜‰é‡Œä¸­å¿ƒ', 'æ­å·è§å±±ä¸‡è±¡æ±‡', 'æ­å·æ¹–æ»¨é“¶æ³°'],
                    cost_values: [19957.9, 12508.0, 9823.6, 9769.4, 6635.6],
                    freq_labels: ['é’å²›ä¸‡è±¡åŸ', 'æ­å·è§å±±ä¸‡è±¡æ±‡', 'æ­å·å˜‰é‡Œä¸­å¿ƒ', 'æ­å·æ¹–æ»¨é“¶æ³°', 'æ­å·æ¹–æ»¨in77'],
                    freq_values: [32, 19, 14, 8, 8]
                },
                'è¥¿åŒº': {
                    cost_labels: ['é‡åº†ä¸‡è±¡åŸ', 'æ­¦æ±‰å¤©åœ°åº—', 'æ­¦æ±‰èŸèšä¸­å¿ƒ', 'æ­¦æ±‰å¤©åœ°', 'æ­¦æ±‰ç»å¼€æ°¸æ—º'],
                    cost_values: [17194.2, 12799.5, 9679.0, 8370.0, 7525.0],
                    freq_labels: ['æˆéƒ½æ­¦ä¾¯å¤§æ‚¦åŸ', 'æ­¦æ±‰å¤©åœ°åº—', 'é‡åº†ä¸‡è±¡åŸ', 'æ­¦æ±‰èŸèšä¸­å¿ƒ', 'é‡åº†é¾™æ¹–æ—¶ä»£'],
                    freq_values: [13, 10, 9, 9, 8]
                },
                'å—åŒº': {
                    cost_labels: ['æ·±åœ³ä¸‡è±¡å¤©åœ°', 'æ·±åœ³ä¸­èˆªåŸ', 'æ·±åœ³å£¹æ–¹åŸ', 'æ·±åœ³é¾™åå¤©è™¹', 'ä¸œèæµ·å¾·æ±‡'],
                    cost_values: [10033.7, 6911.0, 6882.0, 5649.8, 1860.0],
                    freq_labels: ['æ·±åœ³ä¸‡è±¡å¤©åœ°', 'æ·±åœ³å£¹æ–¹åŸ', 'å¦é—¨SMåŸå¸‚å¹¿åœº', 'æ·±åœ³ä¸­èˆªåŸ', 'æ·±åœ³é¾™åå¤©è™¹'],
                    freq_values: [16, 9, 7, 7, 6]
                }
            },
            // Regional Category Data
            regionalCategoryData: {
                'åŒ—åŒº': {
                    cost: {
                        'ç©ºè°ƒ': 21500,
                        'ç…§æ˜ç¯å…·': 12800,
                        'å¢™ä½“é—¨çª—': 9800,
                        'ç”µå­å±å¹•': 7500,
                        'è´§æ¶é“å…·': 6200
                    },
                    count: {
                        'ç…§æ˜ç¯å…·': 22,
                        'å¢™ä½“é—¨çª—': 18,
                        'è´§æ¶é“å…·': 15,
                        'ç©ºè°ƒ': 12,
                        'ç”µå­å±å¹•': 8
                    }
                },
                'ä¸œä¸€åŒº': {
                    cost: {
                        'ç©ºè°ƒ': 18500,
                        'å¢™ä½“é—¨çª—': 11200,
                        'ç…§æ˜ç¯å…·': 9800,
                        'æ•´æ”¹/å®‰è£…': 7500,
                        'è´§æ¶é“å…·': 5200
                    },
                    count: {
                        'ç…§æ˜ç¯å…·': 18,
                        'å¢™ä½“é—¨çª—': 16,
                        'è´§æ¶é“å…·': 12,
                        'ç©ºè°ƒ': 10,
                        'æ•´æ”¹/å®‰è£…': 8
                    }
                },
                'ä¸œäºŒåŒº': {
                    cost: {
                        'ç©ºè°ƒ': 24500,
                        'ç…§æ˜ç¯å…·': 14200,
                        'å¢™ä½“é—¨çª—': 11800,
                        'æ•´æ”¹/å®‰è£…': 8200,
                        'ç”µå­å±å¹•': 6500
                    },
                    count: {
                        'ç…§æ˜ç¯å…·': 25,
                        'å¢™ä½“é—¨çª—': 20,
                        'ç©ºè°ƒ': 15,
                        'è´§æ¶é“å…·': 12,
                        'æ•´æ”¹/å®‰è£…': 10
                    }
                },
                'è¥¿åŒº': {
                    cost: {
                        'ç©ºè°ƒ': 16800,
                        'è´§æ¶é“å…·': 11200,
                        'ç…§æ˜ç¯å…·': 9800,
                        'å¢™ä½“é—¨çª—': 8200,
                        'æ•´æ”¹/å®‰è£…': 6200
                    },
                    count: {
                        'è´§æ¶é“å…·': 18,
                        'ç…§æ˜ç¯å…·': 16,
                        'å¢™ä½“é—¨çª—': 14,
                        'ç©ºè°ƒ': 11,
                        'æ•´æ”¹/å®‰è£…': 9
                    }
                },
                'å—åŒº': {
                    cost: {
                        'ç©ºè°ƒ': 12500,
                        'ç…§æ˜ç¯å…·': 8200,
                        'ç©ºè°ƒæ¸…æ´—': 6800,
                        'å¢™ä½“é—¨çª—': 5200,
                        'è´§æ¶é“å…·': 4200
                    },
                    count: {
                        'ç…§æ˜ç¯å…·': 14,
                        'ç©ºè°ƒ': 12,
                        'è´§æ¶é“å…·': 10,
                        'å¢™ä½“é—¨çª—': 9,
                        'ç©ºè°ƒæ¸…æ´—': 7
                    }
                }
            }
        };

        // Global Chart Defaults
        Chart.defaults.font.family = "'Noto Sans SC', sans-serif";
        Chart.defaults.color = '#666';

        // 1. Trend Chart
        new Chart(document.getElementById('trendChart'), {
            type: 'bar',
            data: {
                labels: data.monthly.labels,
                datasets: [
                    {
                        label: 'ç»´ä¿®é‡‘é¢ (å…ƒ)',
                        data: data.monthly.cost,
                        backgroundColor: '#FFE600',
                        yAxisID: 'y',
                        borderRadius: 4,
                        order: 2
                    },
                    {
                        label: 'ç»´ä¿®é¢‘æ¬¡ (å•)',
                        data: data.monthly.count,
                        type: 'line',
                        borderColor: '#1f2937',
                        backgroundColor: '#1f2937',
                        borderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        yAxisID: 'y1',
                        tension: 0.3,
                        order: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: { mode: 'index', intersect: false },
                plugins: {
                    legend: { position: 'bottom' }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        grid: { borderDash: [2, 4] },
                        title: { display: true, text: 'é‡‘é¢ (CNY)' }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        grid: { drawOnChartArea: false },
                        title: { display: true, text: 'é¢‘æ¬¡ (æ¬¡)' }
                    }
                }
            }
        });

        // 2. H1 vs H2 Chart
        new Chart(document.getElementById('h1h2Chart'), {
            type: 'doughnut',
            data: {
                labels: ['ä¸ŠåŠå¹´ (H1)', 'ä¸‹åŠå¹´ (H2)'],
                datasets: [{
                    data: [167280, 129176],
                    backgroundColor: ['#FFE600', '#1f2937'],
                    borderWidth: 0,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                cutout: '70%',
                plugins: {
                    legend: { position: 'bottom' }
                }
            }
        });

        // 3. Category Breakdown Chart
        new Chart(document.getElementById('categoryChart'), {
            type: 'bar',
            data: {
                labels: data.categories.labels,
                datasets: [{
                    label: 'ç»´ä¿®é‡‘é¢',
                    data: data.categories.data,
                    backgroundColor: [
                        '#FFE600', '#374151', '#9ca3af', '#fef08a', '#e5e7eb', '#f3f4f6', '#d1d5db'
                    ],
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    x: { grid: { display: false } },
                    y: { grid: { display: false } }
                }
            }
        });

        // 4. Region Chart
        new Chart(document.getElementById('regionChart'), {
            type: 'polarArea',
            data: {
                labels: data.regions.labels,
                datasets: [{
                    data: data.regions.data,
                    backgroundColor: [
                        'rgba(255, 230, 0, 0.8)',
                        'rgba(31, 41, 55, 0.7)',
                        'rgba(156, 163, 175, 0.7)',
                        'rgba(253, 224, 71, 0.6)',
                        'rgba(229, 231, 235, 0.8)'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'right' } },
                scales: { r: { grid: { color: '#f3f4f6' }, ticks: { display: false } } }
            }
        });

        // 5. Regional Average Cost Chart
        new Chart(document.getElementById('regionalAvgCostChart'), {
            type: 'bar',
            data: {
                labels: data.storeAverages.regional.labels,
                datasets: [{
                    label: 'åº—å‡ç»´ä¿®é‡‘é¢',
                    data: data.storeAverages.regional.avgCost,
                    backgroundColor: '#3B82F6',
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'åº—å‡: Â¥' + context.parsed.y.toLocaleString();
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#f3f4f6' },
                        title: { display: true, text: 'é‡‘é¢ (å…ƒ)' }
                    },
                    x: { grid: { display: false } }
                }
            }
        });

        // 6. Regional Average Frequency Chart
        new Chart(document.getElementById('regionalAvgFreqChart'), {
            type: 'bar',
            data: {
                labels: data.storeAverages.regional.labels,
                datasets: [{
                    label: 'åº—å‡ç»´ä¿®é¢‘æ¬¡',
                    data: data.storeAverages.regional.avgFreq,
                    backgroundColor: '#10B981',
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'åº—å‡: ' + context.parsed.y + ' æ¬¡';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#f3f4f6' },
                        title: { display: true, text: 'é¢‘æ¬¡ (æ¬¡)' }
                    },
                    x: { grid: { display: false } }
                }
            }
        });

        // ---------------------------------------------------------
        // Regional Drill-down Logic
        // ---------------------------------------------------------
        let regionalCostChartInstance = null;
        let regionalFreqChartInstance = null;

        function switchRegion(regionName) {
            document.querySelectorAll('#regionTabs button').forEach(btn => {
                if(btn.id === `tab-${regionName}`) {
                    btn.classList.remove('inactive');
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                    btn.classList.add('inactive');
                }
            });

            const rData = data.regionalData[regionName];
            
            const ctxCost = document.getElementById('regionalCostChart').getContext('2d');
            if (regionalCostChartInstance) regionalCostChartInstance.destroy();
            regionalCostChartInstance = new Chart(ctxCost, {
                type: 'bar',
                data: {
                    labels: rData.cost_labels,
                    datasets: [{
                        label: 'é‡‘é¢ (å…ƒ)',
                        data: rData.cost_values,
                        backgroundColor: '#FFE600',
                        borderRadius: 4
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { x: { grid: { display: false }, ticks: { font: {size: 10} } }, y: { ticks: { font: {size: 11} } } }
                }
            });

            const ctxFreq = document.getElementById('regionalFreqChart').getContext('2d');
            if (regionalFreqChartInstance) regionalFreqChartInstance.destroy();
            regionalFreqChartInstance = new Chart(ctxFreq, {
                type: 'bar',
                data: {
                    labels: rData.freq_labels,
                    datasets: [{
                        label: 'é¢‘æ¬¡ (æ¬¡)',
                        data: rData.freq_values,
                        backgroundColor: '#374151',
                        borderRadius: 4
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { x: { grid: { display: false }, ticks: {stepSize: 1, font: {size: 10}} }, y: { ticks: { font: {size: 11} } } }
                }
            });
        }

        // ---------------------------------------------------------
        // Regional Category Breakdown Logic
        // ---------------------------------------------------------
        let regionalCategoryCostChartInstance = null;
        let regionalCategoryCountChartInstance = null;

        function updateRegionalCategoryCharts(region) {
            const regionData = data.regionalCategoryData[region];
            
            // Prepare data for cost chart (Top 5 by cost)
            const costEntries = Object.entries(regionData.cost)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5);
            
            const costLabels = costEntries.map(e => e[0]);
            const costValues = costEntries.map(e => e[1]);
            
            // Prepare data for count chart (Top 5 by count)
            const countEntries = Object.entries(regionData.count)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5);
            
            const countLabels = countEntries.map(e => e[0]);
            const countValues = countEntries.map(e => e[1]);

            // Update Cost Chart
            const ctxCost = document.getElementById('regionalCategoryCostChart').getContext('2d');
            if (regionalCategoryCostChartInstance) regionalCategoryCostChartInstance.destroy();
            
            regionalCategoryCostChartInstance = new Chart(ctxCost, {
                type: 'bar',
                data: {
                    labels: costLabels,
                    datasets: [{
                        label: 'ç»´ä¿®é‡‘é¢ (Â¥)',
                        data: costValues,
                        backgroundColor: '#FFE600',
                        borderRadius: 4,
                        barPercentage: 0.7
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.parsed.x.toLocaleString() + ' å…ƒ';
                                }
                            }
                        }
                    },
                    scales: { 
                        x: { grid: { color: '#f3f4f6' } },
                        y: { grid: { display: false } }
                    }
                }
            });

            // Update Count Chart
            const ctxCount = document.getElementById('regionalCategoryCountChart').getContext('2d');
            if (regionalCategoryCountChartInstance) regionalCategoryCountChartInstance.destroy();

            regionalCategoryCountChartInstance = new Chart(ctxCount, {
                type: 'bar',
                data: {
                    labels: countLabels,
                    datasets: [{
                        label: 'ç»´ä¿®é¢‘æ¬¡ (æ¬¡)',
                        data: countValues,
                        backgroundColor: '#374151',
                        borderRadius: 4,
                        barPercentage: 0.7
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { 
                        x: { grid: { color: '#f3f4f6' }, ticks: { stepSize: 1 } },
                        y: { grid: { display: false } }
                    }
                }
            });
        }

        // Initialize
        window.onload = function() {
            switchRegion('åŒ—åŒº');
            updateRegionalCategoryCharts('åŒ—åŒº');
        };

    </script>
</body>
</html>